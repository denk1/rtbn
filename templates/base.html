<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
   <meta name="viewport" content="width=device-width, initial-scale=1">
   {% load static %}
    <!-- Material boostrap wizard -->
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script> 
    <script src="{% static 'js/jquery.validate.min.js' %}"></script>
    <script src="{% static 'js/messages_ru.js' %}"></script>
    <script src="{% static 'js/jquery-ui-1.12.1/jquery-ui.min.js' %}"></script>
    <script src="{% static 'js/jquery.steps-1.1.0/jquery.steps.js' %}"></script>
    <link rel="stylesheet" href="{% static 'js/jquery-ui-themes-1.12.1/jquery-ui.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/steps/jquery.steps.css'  %}" />
    <link rel="stylesheet" href="{% static 'css/steps/steps_main.css'  %}" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    

    
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    
    <script src="{% static 'js/datepicker-ru.js' %}" type="text/javascript"></script>
    
    <!--     Fonts and icons     -->
    
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

    <!-- mdl-->
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">

   

   
    
    <!--
    some comment
    some text
   -->
    <!-- Datepicker -->


    <title>Вспомним их поименно</title>
    <!-- CSS Files -->
    
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" /> 
    <link rel="stylesheet" href="{% static 'css/input_form.css'  %}" />
    <script>
    let url_del_btn = "{% static 'img/del_row.png' %}";
       let adding_info = {
        "fights"  :         `<table id="table_data" class="add_info"></table>
                                <div id="hidden_data"></div>
                                <div class="row">

                                <div class="col-sm-2">
                                <div class="form-group">
                                    <label>Период: </label>
                                </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <input type="text" id="fight_since" class="form-control floating-label"
                                            placeholder="с" name="fight_since[]">
                                        <label for="fight_since[]" generated="true" class="error"></label>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <input type="text" id="fight_to" class="form-control floating-label"
                                            placeholder="по" name="fight_to[]">
                                        <label for="fight_to[]" generated="true" class="error"></label>
                                        <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label>В составе:</label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Фронт" name="front_name[]"
                                            class="form-control">
                                        <label for="front_name[]" generated="true" class="error"></label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Армия" name="army_name[]"
                                            class="form-control">
                                        <label for="army_name[]" generated="true" class="error"></label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Дивизия" name="division_name[]"
                                            class="form-control">
                                        <label for="division_name[]" generated="true" class="error"></label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Полк" name="regiment_name[]"
                                            class="form-control">
                                        <label for="regiment_name[]" generated="true" class="error"></label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Рота" name="company_name[]"
                                            class="form-control">
                                        <label for="company_name[]" generated="true" class="error"></label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Взвод" name="platoon_name[]"
                                            class="form-control">
                                        <label for="platoon_name[]" generated="true" class="error"></label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label id="test_id_label" for="military_operation_name[]">Название боевой операции:</label>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group">
                                        <input id="test_id_attr" type="text" value="" placeholder="" name="military_operation_name[]"
                                            class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-offset-3">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="**Дополнительная и��формация"
                                            name="battle_adding_info[]" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class='row'>
                                <div class='col-sm-3'>
                                    <div class='form-group'>
                                        <label>добавить информацию о госпитализяциях:</label>
                                    </div>
                                </div>
                                <div class='col-sm-3'>
                                    <div class='button_plus_minus'>
                                        <p class='add_item plus' id='fights_plus'>&#43;</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row top-buffer">
                            </div>`, 

        "hospital" :       `<table id="table_data" class="add_info"></table>
                            <div id="hidden_data"></div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <label>Период:</label>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <input type="text" id="hospital_since" class="form-control floating-label"
                                            placeholder="с" name="hospital_since[]">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <input type="text" id="hospital_to" class="form-control floating-label"
                                            placeholder="по" name="hospital_to[]" >
                                        <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <label>Наименование лечебного учреждения:</label>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="" name="hospital_name[]"
                                            class="form-control" required >
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <label>Место расположения:</label>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Область" name="hospital_region_name[]"
                                            class="form-control">
                                        <input type="hidden" value="3" name="hospital_region_type[]">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Район" name="hospital_distric_name[]"
                                            class="form-control">
                                        <input type="hidden" value="2" name="hospital_district_type[]">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Населенный пункт"
                                            name="hospital_locality_name[]" class="form-control">
                                        <input type="hidden" value="1" name="hospital_locality_type[]">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <label>В составе:</label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Армия" name="hospital_army_name[]"
                                            class="form-control">
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Дивизия"
                                            name="hospital_division_name[]" class="form-control">
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="Полк" name="hospital_regiment_name[]"
                                            class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <label>По окончанию лечения направлен в:</label>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <input type="text" value="" placeholder="" name="healthy_direction[]"
                                            class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class='row'>
                                <div class='col-sm-3'>
                                    <div class='form-group'>
                                        <label>добавить информацию о госпитализяциях:</label>
                                    </div>
                                </div>
                                <div class='col-sm-3'>
                                    <div class='button_plus_minus'>
                                        <p class='add_item plus' id='hospital_plus'>&#43;</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row top-buffer">

                            </div>`,

        "captivity" :          `<table id='table_data' class='add_info'></table>
                                <div id='hidden_data'></div>
                                <div class='row'>
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <label>Дата пленения:*</label> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <input type='text' id='date_of_captivity'
                                                class='form-control floating-label' placeholder=''
                                                name='date_of_captivity[]'>
                                        </div>
                                    </div>
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                </div>
                                <div class='row'> 
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <label>Место пленения:*</label>
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <input type='text' value='' placeholder='Область' name='capt_region'
                                                class='form-control'>
                                            <input type='hidden' value='3' name='capt_region_type[]'>
                                        </div>
                                    </div>
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <input type='text' value='' placeholder='Район' name='capt_district'
                                                class='form-control'>
                                            <input type='hidden' value='2' name='capt_distric_type[]'>
                                        </div>
                                    </div>
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <input type='text' value='' placeholder='Населенный пункт'
                                                name='capt_locality' class='form-control'>
                                            <input type='hidden' value='1' name='capt_locality_type[]'>
                                        </div> 
                                    </div> 
                                </div>
                                <div class='row'>
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <label>добавить информацию о пленении:</label>
                                        </div>
                                    </div>
                                    <div class='col-sm-3'>
                                        <div class='button_plus_minus'>
                                            <p class='add_item plus' id='captivity_plus'>&#43;</p>
                                        </div>
                                    </div>
                                </div>`,

        "camp" :               `<table id='table_data' class='add_info'></table> 
                                <div id='hidden_data'></div> 
                                <div class='row'> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <label>В период:</label> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'>
                                            <input type='text' id='camp_since' class='form-control floating-label'  
                                                placeholder='с' name='camp_since[]'> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'>
                                            <input type='text' id='camp_to' class='form-control floating-label'
                                                placeholder='по' name='camp_to[]'> 
                                        </div> 
                                    </div>
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" > 
                                </div> 
                                <div class='row'> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <label>Находился в лагере:</label> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <input type='text' value='' placeholder='' name='camp[]' class='form-control'> 
                                        </div> 
                                    </div> 
                                </div> 
                                <div class='row'> 
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <label>Номер военнопленного(ЕМ):</label> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <input type='text' value='' placeholder='' name='number_of_prisoners[]'
                                                class='form-control'> 
                                        </div> 
                                    </div> 
                                </div>
                                <div class='row'>
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <label>добавить информацию о лагере:</label>
                                        </div>
                                    </div>
                                    <div class='col-sm-3'>
                                        <div class='button_plus_minus'>
                                            <p class='add_item plus' id='camp_plus'>&#43;</p>
                                        </div>
                                    </div>
                                </div>`,

        "team" :                `<table id='table_data' class='add_info'></table> 
                                <div id='hidden_data'></div> 
                                <div class='row'> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <label>В период:</label> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <input type='text' id='work_since' class='form-control floating-label' 
                                                    placeholder='с' name='work_since[]'> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'>
                                        <div class='form-group'> 
                                            <input type='text' id='work_to' class='form-control floating-label' 
                                                    placeholder='по' name='work_to[]'> \
                                        </div> 
                                    </div>
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" > 
                                </div> 
                                <div class='row'> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <label>Наименование рабочей команды:</label> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <input type='text' value='' placeholder='' name='work_command[]' 
                                                    class='form-control'> 
                                        </div> 
                                    </div> 
                                </div>
                                <div class='row'>
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <label>добавить информацию о рабочей команде:</label>
                                        </div>
                                    </div>
                                    <div class='col-sm-3'>
                                        <div class='button_plus_minus'>
                                            <p class='add_item plus' id='team_plus'>&#43;</p>
                                        </div>
                                    </div>
                                </div>`,
                                
        "infirmary" :          `<table id='table_data' class='add_info'></table> 
                                <div id='hidden_data'></div> 
                                <div class='row'> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <label>В период:</label> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <input type='text' id='infir_since' class='form-control floating-label' 
                                                placeholder='с' name='infir_since[]'> 
                                        </div> 
                                    </div> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <input type='text' id='infir_to' class='form-control floating-label' 
                                                placeholder='по' name='infir_to[]'> 
                                        </div> 
                                    </div>
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" > 
                                </div> 
                                <div class='row'> 
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <label>Находился в лазарете лагеря:</label> 
                                        </div> 
                                    </div>
                                    <div class='col-sm-3'> 
                                        <div class='form-group'> 
                                            <input type='text' value='' placeholder='' name='infirmary[]' 
                                                class='form-control' > 
                                        </div> 
                                    </div> 
                                </div>
                                <div class='row'>
                                    <div class='col-sm-3'>
                                        <div class='form-group'>
                                            <label>добавить информацию о лазарете:</label>
                                        </div>
                                    </div>
                                    <div class='col-sm-3'>
                                        <div class='button_plus_minus'>
                                            <p class='add_item plus' id='infirmary_plus'>&#43;</p>
                                        </div>
                                    </div>
                                </div>`,

        "datebureal" :          `<div class="col-sm-3">
                                    <div class="form-group">
                                        <label>Дата:</label>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="form-group form-inline" >
                                        <input type="text" id="date_of_burial" class="form-control d-inline p-2"
                                            placeholder="" name="date_of_burial[]">
                                        <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                        
                                    </div>
                                </div>`,
        
        "docplacebureal":  `<div class="col-sm-2">
                                <div class="form-group">
                                    <label>Место захоронения по документам:</label>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Область" name="burial_region_doc"
                                        class="form-control">
                                    <input type="hidden" value="3" name="burial_region_doc_type[]">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Район" name="burial_distric_doc"
                                        class="form-control">
                                    <input type="hidden" value="2" name="burial_distric_doc_type[]">

                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Населенный пункт"
                                        name="burial_locality_doc[]" class="form-control d-inline p-2">
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                </div>
                            </div>`,

        "factplacebureal":  `<div class="col-sm-2">
                                <div class="form-group">
                                    <label>Фактическое расположение*:</label>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Область" name="burial_region_act"
                                        class="form-control">
                                    <input type="hidden" value="3" name="burial_region_act_type[]">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Район" name="burial_distric_act[]"
                                        class="form-control">
                                    
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Населенный пункт"
                                        name="burial_locality_act" class="form-control d-inline p-2">
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                    <input type="hidden" value="1" name="burial_locality_act_type[]">
                                </div>
                            </div>`,

        "definebureal" :    `<div class="col-sm-3">
                                <div class="form-group">
                                    <label>Кладбище:</label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="" name="cementary[]" class="form-control d-inline p-2">
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                            
                                </div>
                            </div>`,
        "fieldbureal"  :    `<div class="col-sm-3">
                                <div class="form-group">
                                    <label>Номер поля:</label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="" name="number_plot[]" class="form-control d-inline p-2">
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                </div>
                            </div>`,

        "linebureal"    :   `<div class="col-sm-3">
                                <div class="form-group">
                                    <label>Ряд:</label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="" name="number_line[]" class="form-control d-inline p-2">
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                </div>
                            </div>`,

        "tombbureal"    :   `<div class="col-sm-3">
                                <div class="form-group">
                                    <label>Номер могилы:</label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="" name="number_thumb[]" class="form-control d-inline p-2">
                                     <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                </div>
                            </div>`,

        "datereburial":     `<div class="col-sm-3">
                                <div class="form-group">
                                    <label>Дата:</label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <input type="text" id="date_of_reburial" class="form-control floating-label d-inline p-2"
                                        placeholder="" name="date_of_burial[]">
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                </div>
                            </div>`,

        "reasonreburial":    `<div class="col-sm-3">
                                <div class="form-group">
                                    <label>Причина:</label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="" name="reburial_cause[]"
                                        class="form-control d-inline p-2">
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                </div>
                            </div>`,

        "actaddrreburial":  `<div class="col-sm-3">
                                <div class="form-group">
                                    <label>Актуальный адрес:</label>
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Область" name="reburial_region_fact[]"
                                        class="form-control">
                                    <input type="hidden" value="3" name="reburial_region_fact_type">
                                </div>
                            </div>
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Район" name="reburial_distric_fact"
                                        class="form-control">
                                    <input type="hidden" value="2" name="reburial_district_fact_type[]">
                                </div>
                            </div>
                            <div class="col-sm-2">
                                <div class="form-group">
                                    <input type="text" value="" placeholder="Населенный пункт"
                                        name="reburial_locality_fact" class="form-control d-inline p-2">
                                    <img  class="d-inline p-2" src="{% static 'img/del_row.png' %}" >
                                    <input type="hidden" value="1" name="reburial_locality_fact_type[]">
                                </div>
                            </div>`
        
    };



    let msg_btn = {
        "fights" : "добавить информацию об участии в сражениях",
        "hospital" : "добавить информацию о госпитализяциях",
        "captivity" : "добавить информацию о пленении",
        "camp" : "добавить информацию о лагерях",
        "team" : "добавить информацию о рабочих командах",
        "infirmary" : "добавить информацию о содержании лазаритах",
        "datebureal" : "добавить информацию о дате захоронения",
        "docplacebureal" : "добавить информацию о месте захоронения по документам",
        "factplacebureal" : "добавить информацию о фактическом месте захоронения",
        "definebureal" : "добавить информацию о названии кладбища",
        "fieldbureal" : "добавить информацию о номере поля на кладбище",
        "linebureal" : "добавить информацию о номере ряда на кладбище",
        "tombbureal" : "добавить информацию о номере могилы на кладбище",
        "datereburial" : "добавить информацию о дате перезахоронения",
        "reasonreburial" : "добавить информацию о причине перезахоронения",
        "actaddrreburial" : "добавить информацию об актуальном адресе перезахоронения"
    };

    function delFormItem() {
        var inition_button_id = this.getAttribute('id').split('_')[0];
        var formItems = document.getElementById(inition_button_id + 's_list');
        var container_list = document.querySelectorAll('#' + inition_button_id + '_container');
        if((container_list.length - 1) > 0) {
            num = container_list.length - 1
            var container_del = container_list[num];
            formItems.removeChild(container_del);
        }
    };

    function addFormItem() {
        var inition_button_id = this.getAttribute('id').split('_')[0];
        var formItems = document.getElementById(inition_button_id + 's_list');
        var container_list = document.querySelectorAll('#' + inition_button_id + '_container');
        var item = container_list[0];
        console.log(item);
        var since = item.querySelectorAll('#' + inition_button_id + '_since');
        var to = item.querySelectorAll('#' + inition_button_id + '_to');
        var attributeValueSince = since[0].getAttribute('id') + '_' + (num).toString();
        var attributeValueTo = to[0].getAttribute('id') + '_' + (num++).toString();
        var item_new = item.cloneNode(true);
        var since_new = item_new.querySelectorAll('#' + inition_button_id + '_since');
        var to_new = item_new.querySelectorAll('#' + inition_button_id + '_to');
        since_new[0].setAttribute('id', attributeValueSince);
        to_new[0].setAttribute('id', attributeValueTo);
        formItems.appendChild(item_new);
        
        $('#' + attributeValueSince).bootstrapMaterialDatePicker
        ({
            time: false,
            clearButton: true,
            lang: 'ru'
        });

        $('#' + attributeValueTo).bootstrapMaterialDatePicker
        ({
            time: false,
            clearButton: true,
            lang: 'ru'
        });

    };


    function add_input(n, v) {
        return "<input type='hidden' name='" + n + "' value='" + v + "'>";
    }

    function create_del_row(pd) {
        return function(r) {
            let sec = pd.find('#' + $(r).attr('id').split('_name_of_section_del')[0]);
            let tbl =  sec.find("#table_data");
            let hidd = sec.find("#hidden_data");
            var spec_row = $(tbl).find("#" + $(r).attr('id').split('butt_')[1]);
            var spec_row_hidd = $(hidd).find("#" + $(r).attr('id').split('butt_')[1]);
            spec_row.remove();
            spec_row_hidd.remove();
        }
    }

    function add_table(t, form) {
        let n = 1;
        return function () {
            let tbl = t.find("table")[0];
            let name_of_section = t.attr("id");
            inputs = t.find("input[type='text']");
            let cols_count = inputs.length;
            let rows_count = tbl.rows.length;
            let input_hidden_string = "";
            let tr = "";
            tbl = $(tbl);

            if(!form.valid())
                return;
           
            if (rows_count == 0) {   
                tr = "<tr>";
                tr += "<th scope='col'>#</th>";           
                let name_of_col = "";
                for (i = 0; i < cols_count; i++) {
                    var inp = $(inputs[i]);
                    input_hidden_string += add_input(inp.attr("name"), inp.val());
                    if (inp.attr("placeholder").length == 0) {
                        if (inp.prev().is("label")) {
                            name_of_col = inp.prev().text();
                        } else if (inp.next().is("label")) {
                            name_of_col = inp.next().text();
                        } else {
                            let labels = t.find("label");
                            for (j = 0; j < labels.length; j++) {
                                let lbl = $(labels[j]);
                                if (lbl.attr("for") == inp.attr("name")) {
                                    name_of_col = lbl.text();
                                    break;
                                }
                            }
                        }
                    } else {
                        name_of_col = inp.attr("placeholder");
                    }

                    tr += "<th scope='col'>" + name_of_col + "</th>";
                    name_of_col = "";                  
                }
                tr += "<th scope='col'>удалить</th>";
                tr += "</tr>";
                tbl.append(tr);
            }
            
           
            
            let row_id = "row_" + n;
            tr = "<tr id='" +  row_id + "'>";
            
            tr += "<th scope='row'>" + n++ + "</th>";
            input_hidden_string = "";
            input_hidden_string += "<div id='" + row_id +  "'>"
            for (i = 0; i < cols_count; i++) {
  
                let inp = $(inputs[i]);
                tr += '<td>' + inp.val() + '</td>';
                input_hidden_string += add_input(inp.attr("name"), inp.val());
                inp.val("");
               
            }
            tr += "<td><img onclick='del_row(this)' id='" + name_of_section +  "_name_of_section_del_butt_" + row_id + "' src='{% static 'img/del_row.png' %}' ></td>";
            tr += "</tr>";
            tbl.append(tr);
            input_hidden_string += "</div>";
            tbl.next().append(input_hidden_string);
        }
    }

    function del_meth(cat_name) {
        
       init_msg_form(cat_name);
        
    }

    function create_butt_meth(cat) {
        return function(e) {
            let event_button = $(e.target);
            let cat_name = event_button.attr("id").split("_")[0];
            let list_stages = event_button.parent('#' + cat_name + '_list');
            list_stages.html(cat[cat_name]);
            var add_meth = add_table($("#" + cat_name + "_list"), $("#personal_data"));
            var plus_btn = list_stages.find("#" + cat_name + "_plus");
            var del_btn = list_stages.find("img");
            //plus_btn.onclick = add_meth;
            plus_btn.click(function(e) {
                add_meth();
            });
            
            del_btn.click(function(e) {
                del_meth(cat_name);
            });

            $("input[name*='date']").datepicker();
            $("input[name*='_to']").datepicker();
            $("input[name*='_since']").datepicker();
        }
    }

    function init_msg_form(item) {
        
        let context_btn = msg_btn[item];
        let btn_id = item + '_button';
        let btn_str = '<p id="' + btn_id + '" >' + context_btn + '</p>';
        let add_button = document.getElementById( item + '_list');
        $(add_button).html("");
        $(add_button).append(btn_str);
        let btn = $(add_button).find('#' + btn_id);
        let butt_meth =  create_butt_meth(adding_info);
        btn.click( function(e) {
            butt_meth(e);
        });
    }

    </script>
</head>

<body class="main">
    <div class="container22" id="container22">
        <div class="top" id="scaleable-wrapper">
            <div class="very-specific-design" id="very-specific-design">
                <a href="{% url 'index' %}"><img src="{% static 'img/logo_rtbn.png' %}" alt="Вспомним их поименно"></a>
            </div>
        </div>
    
        <div class="content"> 
            <div id="container"></div>
        <div>
    
        {% block get_authorized %}

        {% endblock %}
        </div>
       
        {%  block title %}
        
        {% endblock %}
         
        {% block content %}
       
        {% endblock %}

        {% block list_update_persons %}

        {% endblock %}

        {% block footer %}
        <div id="content_tags" class="inner" ><p class="sections_name">По разделам:</p>
            <div class="tags color_border_red">
                <a href="{% url 'data_list' %}">Персональные данные</a>
            </div>
            <div class="tags color_border_gray">Призыв</div>
            <div class="tags color_border_gray">Боевые действия</div>
            <div class="tags color_border_gray">Госпиталь</div>
            <div class="tags color_border_gray">Плен</div>
            <div class="tags color_border_gray">Захоронение</div>
        </div>

        {% endblock %}

        </div>
        
        
        <div class="bottom">
        <p>Информация для пользователей:</p>
        <ol>
            <li>
                эксперты имеют право вносить информацию на основе поисков и имеющихся в наличии документов
            и свидетельств, отдельно по любому разделу. При этом в дальнейшем это привдедет к связи с персоналиями
            </li>
            <li>
                разыскивающие своих родственников имеют возможность начать поиск по любому потвержденному этапу судьбы, либо по сопоставлению судеб земляков, однополчан
            </li>
        </ol>
        <p>
            Все действия в столь массовых и масштабных событиях имели определенную структуру и правила. Исключениями могли быть лишь отдельные судьбы
        </p>
       
        <div><h1>Успехов в поиске</h1></div>
        </div>
    
    </div>
<script type="text/javascript">
    var $el = $("#very-specific-design");
    var elHeight = $el.outerHeight();
    var elWidth = $el.outerWidth();

    var $wrapper = $("#scaleable-wrapper");

    //$wrapper.resizable({
    //    resize: doResize
    //});

    function doResize(event, ui) {
  
        var scale, origin;
    
        scale = Math.min(
            ui.size.width / elWidth,    
            ui.size.height / elHeight
        );
        scale = 0.2;
  
        $el.css({
            transform: "translate(-50%, -50%) " + "scale(" + scale + ")"
        });
  
    }

    function resizeHandler() 
    {
        var starterData = { 
            size: {
                width: $wrapper.width(),
                height: $wrapper.height()
            }
        }
        doResize(null, starterData);
    }

    //$(window).resize(resizeHandler);
    $(document).ready(resizeHandler);
</script>
</body>
</html>